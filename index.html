<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Notes – P.V1.8</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#121212;
  --panel:#1c1c1c;
  --text:#eaeaea;
  --line:#555;
  --accent:#2a2a2a;
}

.light{
  --bg:#f5f5f5;
  --panel:#ffffff;
  --text:#111;
  --line:#bbb;
  --accent:#eaeaea;
}

*{box-sizing:border-box;font-family:Inter,sans-serif;}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  transition:background .4s,color .4s;
}

/* TOP BAR */
.topbar{
  height:52px;
  display:flex;
  align-items:center;
  padding:0 14px;
  border-bottom:1px solid var(--line);
}
.menu-btn{
  font-size:22px;
  cursor:pointer;
}

/* MENU */
.menu{
  position:fixed;
  top:0;
  left:-70%;
  width:70%;
  height:100%;
  background:var(--panel);
  transition:.35s;
  padding:16px;
  z-index:10;
}
.menu.show{left:0;}

.menu h3{margin-top:0;font-weight:600;}
.menu input{
  width:100%;
  padding:10px;
  background:#2a2a2a;
  border:none;
  border-radius:6px;
  color:white;
}
.light .menu input{background:#ddd;color:black;}

.menu button{
  margin-top:12px;
  width:100%;
  padding:10px;
  background:var(--accent);
  border:none;
  color:var(--text);
  border-radius:6px;
  cursor:pointer;
}

/* FOLDER LIST */
.container{
  padding:18px;
}

.quote-list{
  display:flex;
}

.quote-line{
  width:4px;
  background:var(--line);
  border-radius:4px;
  margin-right:10px;
}

.folder-stack{
  width:100%;
}

.folder{
  padding:14px;
  background:var(--panel);
  border-bottom:1px solid var(--line);
  cursor:pointer;
  transition:.25s;
}
.folder:first-child{
  border-top-right-radius:14px;
}
.folder:last-child{
  border-bottom-right-radius:14px;
  border-bottom:none;
}
.folder:hover{
  background:var(--accent);
}

/* ADD BUTTON */
.add-btn{
  margin-top:20px;
  padding:12px;
  background:var(--accent);
  border:none;
  border-radius:10px;
  color:var(--text);
  width:100%;
  cursor:pointer;
}

/* MODAL */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.5);
  display:none;
  align-items:center;
  justify-content:center;
}
.modal.show{display:flex;}
.modal-box{
  background:var(--panel);
  padding:18px;
  border-radius:12px;
  width:80%;
}
.modal-box input{
  width:100%;
  padding:10px;
  margin-top:10px;
  border:none;
  border-radius:6px;
  background:#2a2a2a;
  color:white;
}
.light .modal-box input{background:#ddd;color:black;}
.modal-box button{
  margin-top:12px;
  width:100%;
  padding:10px;
  border:none;
  border-radius:6px;
  background:var(--accent);
  color:var(--text);
}
</style>
</head>

<body>
<div class="topbar">
  <div class="menu-btn" onclick="toggleMenu()">☰</div>
</div>

<div class="menu" id="menu">
  <h3>User</h3>
  <input id="username" placeholder="Enter name">
  <button onclick="saveUser()">Save</button>
  <h3>Theme</h3>
  <button onclick="toggleTheme()">Dark / Light</button>
</div>

<div class="container">
  <div class="quote-list">
    <div class="quote-line"></div>
    <div class="folder-stack" id="folders"></div>
  </div>

  <button class="add-btn" onclick="openModal()">Create Folder</button>
</div>

<div class="modal" id="modal">
  <div class="modal-box">
    <h3>Create Folder</h3>
    <input id="folderName" placeholder="Folder name">
    <button onclick="createFolder()">Create</button>
    <button onclick="closeModal()">Cancel</button>
  </div>
</div>

<script>
const foldersEl=document.getElementById("folders");
let folders=JSON.parse(localStorage.getItem("folders")||"[]");

function render(){
  foldersEl.innerHTML="";
  folders.forEach((f,i)=>{
    const d=document.createElement("div");
    d.className="folder";
    d.textContent=f.name;
    d.onclick=()=>location.href=`folder.html?id=${i}`;
    foldersEl.appendChild(d);
  });
}
render();

function createFolder(){
  const name=document.getElementById("folderName").value.trim();
  if(!name)return;
  folders.push({name,content:""});
  localStorage.setItem("folders",JSON.stringify(folders));
  closeModal();render();
}

function openModal(){document.getElementById("modal").classList.add("show");}
function closeModal(){document.getElementById("modal").classList.remove("show");}

function toggleMenu(){document.getElementById("menu").classList.toggle("show");}

function saveUser(){
  localStorage.setItem("user",username.value);
}

function toggleTheme(){
  document.body.classList.toggle("light");
  localStorage.setItem("theme",document.body.className);
}

document.body.className=localStorage.getItem("theme")||"";
username.value=localStorage.getItem("user")||"";
</script>
</body>
</html>
